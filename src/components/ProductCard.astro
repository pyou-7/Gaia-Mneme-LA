---
const { p }=Astro.props;
---
<div class="card">
  <a href={`/product/${p.slug}`}><img src={p.image} alt={p.imageAlt||p.name} style="aspect-ratio:1/1;object-fit:cover;width:100%"/></a>
  <div class="card-body">
    <div style="font-weight:600">{p.name}</div>
    <div style="color:#cfd3dc;font-size:14px">{p.stone}</div>
    <div style="display:flex;gap:8px;margin:6px 0 12px"><strong>${p.price}</strong>{p.compareAt&&<span style="text-decoration:line-through;color:#9aa3b2">${p.compareAt}</span>}</div>
    <div style="display:flex;gap:8px">{p.stripeLink?<a class="btn" href={p.stripeLink}>Buy now</a>:<a class="btn" href="#" aria-disabled="true">Buy (link later)</a>}{p.badge&&<span class="pill">{p.badge}</span>}</div>
  </div>
</div>